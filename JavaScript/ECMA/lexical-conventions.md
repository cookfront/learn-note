词法约定
========

## 空白

空白字符被用来提高源文本的可读性，并且相互分离标记（不可分割的词汇单位），但在其他地方是无意义的。空白字符可以在任意两个标记之间，或者在输入的开始或结束。空白字符还可能出现在字符串直接量或正则表达式直接量或注释中，但不能在任何其它种类的标记的出现。

`ECMAScript`中的空白字符：

| Code Unit Value        | Name           | Formal Name  |
| ------------- |:-------------:| -----:|
| \u0009      | Tab | `<TAB>` |
| \u000B      | Vertical Tab      | `<VT>`  |
| \u000C | Form Feed      |    `<FF>` |
| \u0020      | Space | `<SP>` |
| \u00A0      | No-break space      | `<NBSP>`  |
| \uFFFF | Byte Order Mark      |    `<BOM>` |

## 行结束(Line Terminators)

## 自动分号插入

`ECMAScript`中的某些语句（空语句，变量声明，表达式语句，do-while语句，continue语句，break语句，返回语句和throw语句）必须以分号结束。这些分号也总是在源文本中明确出现。然而为方便起见，这样的分号可以从在特定情况下的源文本被删去。这种情况被描述为分号自动添加到源代码标记流中。

### 自动分号插入规则

在分号插入有三个基本规则：

 1. 当程序从左到右解析，一个标记（称之为offending token）遭遇无法匹配任何语法时，此时当下面的一个或多个条件为`true`时，会在该标记前自动插入一个分号：
	2. 如该 token 跟之前的 token 之间有至少一个 LineTerminal 行终结符违反分割
	3. 该 token 为 `}` 符号时
4. 当从左向右解析程序，输入流已经结束，当解析器无法将输入流解析成单个完整 ECMAScript Program 时，那么就在输入流的末尾自动插入分号。
5. 当从左向右解析程序，遇到一个某些产生式允许的语素，而此产生式是受限产生式，如果至少一个 LineTerminator 分开了受限产生式的里紧跟在 [no LineTerminator here] 后的第一个终结符或非终结符的语素——叫做受限语素——和前一个语素，那么就在这里前面自动插入分号。

然而，上述规则有一个附加的优先条件：如果插入分号后解析结果是空语句，或如果插入分号后它成为 for 语句头部的两个分号之一（见 12.6.3），那么不会自动插入分号。


[JavaScript分号](http://typeof.net/s/jsmech/03.html)

